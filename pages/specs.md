---
layout: page
title: "技术参数"
permalink: "/specs/"
breadcrumb: true
---

{% include list.html %}

这是一个开源的网站 <a href="https://github.com/ZE3kr/ZE3kr.github.io"><strong>了解详情&nbsp;›</strong></a>

## Exif 显示

有些图片下方就会有这样的信息，这便叫做“Exif 显示”。

{% include img-small-basic.html img="ze3kr/2015/2015-08-16-17.34.02.png" %}

### 焦距

焦距均显示**等效 135 画幅相机焦距**，佳能的 APS-C 的焦距转换系数取 1.62，APS-H 的焦距转换系数取 1.255~1.29 不等；尼康的 APS-C 的焦距转换系数取 1.52 至 1.53 不等。

有些相机的 Exif 信息中本身包含了等效 135 画幅的参数，对于这些相机直接显示本身包含的参数。

对于没有指定焦距转换系数且 Exif 信息中不包含等效 135 画幅的参数的情况，直接默认此相机为 135 画幅。

该值保留整数部分。

### 光圈

光圈会转化为常用表达方式（f/），转换公式如下：

```
√(2)^光圈值
```

其中 `√(2)` 取 1.41。

该值保留一位小数。

### 快门时间

快门会转化为常用表达方式，规则如下：

+ 当快门时间小于等于 0.1s 时, 显示 `1/分母 + " " + s` 的形式。比如 `1/1000 s`、`1/128 s`。
+ 当快门时间小于等于 1s 又大于 0.1s 时, 保留保留小数点后 2 位。比如 `0.30"`、`0.58"`。
+ 当快门时间大于 1s 又小于等于 10s 时, 保留保留小数点后 1 位。比如 `3.0"`、`5.8"`。
+ 当快门时间大于 10s 又小于等于 60s 时, 显示整数。比如 `30"`、`58"`。
+ 当快门时间大于 60s 显示保留小数点后 1 位的定点数（单位：min）。比如 `3.5min`、`120.0min`。

### ISO

该值保留整数部分。

### 相机

相机参数中会被包含相机厂商的名称，如果没有包含厂商名称，则添加它。

### 镜头

这是根据 Exif 信息中的 `0xA434` 参数来了解到相机的镜头参数，对于没有此参数的图片则不做显示。

### HDR

这是根据 Exif 信息中的 `CustomRendered` 参数来判断是否开启了 HDR。但是使用 Adobe PhotoShop 和 Adobe Lightroom 合成的 HDR 照片不包含此参数，所以这些图片需要额外设定是否开启了 HDR。

### GPS

GPS 的地图使用 [Leaflet](http://leafletjs.com/) 提供的地图框架，[Mapbox](http://mapbox.com/) 提供的地图图片，[OpenStreetMap](http://openstreetmap.org/) 提供的地图数据。展示给用户的 GPS 信息中不包含海拔、朝向信息。

GPS 的地图尚不为矢量图，而是普通 JPEG 图片。目前并不支持像素密度大于 `@2x` 的设备，对于像素密度大于 `@1x` 的设备一律加载 `@2x` 大小的图片。

## 图片格式

本网站会将生成每张图片的不同尺寸版本，对于宽度小于限制尺寸的照片，则按照图片原本尺寸处理（限制宽度和高度的图片例外）。

### 限制宽度，高度自适应

网页上的大图、首页图片、宽度确定的图片使用此方案，根据**屏幕尺寸**以及**像素密度**加载不同图片。

| **宽度/px** | **版本号** | **格式** |
| 400 | 0.5x | JPEG/PNG |
| 800 | 1x | JPEG/PNG |
| 1200 | 1.5x | JPEG/PNG |
| 1600 | 2x | JPEG/PNG |
| 1000 | s | JPEG/PNG |
| 2000 | b | JPEG/PNG |

### 限制宽度或高度

网页上的文章配图使用此方案，仅根据**像素密度**加载不同图片，显示时宽度不能大于 340px，高度不能大于 255px，图像的长宽比不变。

| **宽度/px** | **高度/px** | **版本号** | **格式** |
| 340 | 255 | a1x | JPEG/PNG |
| 680 | 510 | a2x | JPEG/PNG |
| 1020 | 765 | a3x | JPEG/PNG |

### 限制宽度和高度

网页首页上的正方形小配图使用此方案，仅根据**像素密度**加载不同图片，显示时宽度x高度恒为 150x150。同时也有的是为了 iTunes 等其他平台生成的固定宽高缩略图。

| **宽度/px** | **高度/px** | **版本号** | **格式** |
| 150 | 150 | s1x | JPEG/PNG |
| 300 | 300 | s2x | JPEG/PNG |
| 450 | 450 | s3x | JPEG/PNG |
| 100 | 100 | s100x | JPEG |
| 200 | 200 | s200px | JPEG |
| 200 | 200 | sq | JPEG/PNG |
| 1400 | 1400 | sq.jpg | JPEG |

## 视频格式

本网站当前使用的是 540p H.264 和 720p VP9 两种格式进行在线播放，支持所有主流浏览器。360p H.264 这个格式目前不在使用。

对于支持 VP9 格式的浏览器，则先加载 VP9，此格式在文件同等大小下能够提供更高的画质，几乎绝大多数主流浏览器都支持 H.264 标准。最新版本的 Firefox、Chrome 和 Opera 均支持 VP9。

H.265 几乎没有浏览器支持，但我却仍然准备好了 H.265 格式的视频，以便将来普及时更好的更新。H.265 在文件同等大小下能够提供最的画质，非常适合在线播放。

共使用如下几种方式对视频编码：

### 540p H.264

**正在使用此格式。**

此格式的视频是 qHD 的分辨率，是 1080p 的 1/4 大小，720p 的 9/16，属于准高清（大陆俗称高清）。

平均每小时 540MB 的视频，建议在 4M 以上带宽下观看。

#### 视频部分

| **参数名称** | **对应值** |
| 格式 | H.264/MPEG-4 AVC |
| 分辨率 | 960x540 |
| 比特率模式 | 动态 |
| 平均比特率 | 1200kbps |
| 帧速率 | 29.97fps/23.976fps |
| 帧同步 | 自动 |
| 大小调整 | 线性滤镜 |
| 多通路 | 是 |
| 水印 | 是 |

#### 音频部分

| **参数名称** | **对应值** |
| 格式 | Advanced Audio Coding (AAC) |
| 通道 | 单声道 |
| 采样速率 | 44.1kHz |
| 位速率 | 128kbps |

### 720p VP9

**正在使用此格式。**

此格式的视频是 HD 的分辨率，是 1080p 的 1/2 大小，为 720p，属于高清（大陆俗称超清）。

平均每小时 540MB 的视频，建议在 4M 以上带宽下观看。

#### 视频部分

| **参数名称** | **对应值** |
| 格式 | VP9  |
| 分辨率 | 1280x720 |
| 比特率模式 | 动态 |
| 平均比特率 | 1200kbps |
| 帧速率 | 29.97fps/23.976fps |
| 帧同步 | 每 100 帧 |
| 大小调整 | 线性滤镜 |
| 多通路 | 是 |
| 水印 | 是 |

#### 音频部分

| **参数名称** | **对应值** |
| 格式 | OGG Vorbis |
| 通道 | 立体声 |
| 采样速率 | 44.1kHz |
| 位速率 | 128kbps |

## 源代码

### [本网站页面源代码](https://github.com/ZE3kr/ZE3kr.github.io)

### [本网站 Exif 格式化源代码（PHP）](https://github.com/ZE3kr/ZE3kr.github.io/tree/master/_code/exif.php)

## 关于屏蔽的一些搜索引擎

此网站不会因为搜索引擎抓取过频繁而屏蔽搜索引擎，也不在乎那些带宽和流量，然而一些违法的，将我的网站内容用作商业目的（包括广告）这种违法行为的搜索引擎绝对要屏蔽。

在我已经声明 `Cache-Control "no-transform"` 的情况下，在某些展示搜索结果时打开的并不是我原本的网页，而是所谓优化过的另一个页面，这些搜索引擎会被我屏蔽。

我目前屏蔽了以下搜索引擎：

+ 好搜/360 搜索
